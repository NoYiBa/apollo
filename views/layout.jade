doctype html
html
  head
    title= title
    link
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css')
    link(rel='stylesheet', href='/css/style.css')
    link(id="favicon" rel="shortcut icon" href="/favicon.ico")
    script.
        // node webkit
        if (window.nwDispatcher) {

            var gui = window.nwDispatcher.requireNwGui();
            var win = gui.Window.get();

            win.removeAllListeners('new-win-policy');
            win.on('new-win-policy', function (frame, url, policy) {
                gui.Shell.openExternal(url);
                policy.ignore();
            });

            var nativeMenuBar = new gui.Menu({ type: "menubar" });
            try {
                nativeMenuBar.createMacBuiltin("");
            }
            catch (notOSX) { }
            win.menu = nativeMenuBar;
        }
    script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.3/angular.min.js")
    script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.3/angular-route.min.js")
    script(src=config.respokeJS)
    script(src="/js/apollo.js")
  
  body
    
    //- Background animation container
    #container: canvas#pixie

    //- Apollo angular app
    #apollo(ng-app="apollo" ng-controller="GlobalController")
        
        //- Notification Area
        .notifications(ng-cloak)
            .alert.alert-info(
                ng-repeat="notif in notifications track by $index"
                ng-class="{{ notif.class || '' }}"
            )
                button.close(data-dismiss="alert" ng-click="notifications.splice($index, 1)")
                    i.fa.fa-remove
                | {{ notif.message || notif.error || notif }}
        
        //- Main view area
        block content

    br
    br
    br


    script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")
    script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js")
    script(src="/js/lib/pixie.js")
